{% extends "base.html" %}

{% block main_content %}
			<div class="container">
				<!-- don'no how 2 let <div> auto-fit -->
        <!-- required: name, gender, AUID -->
				<br><br>
				<div class="row">
					<form class="col s12 m8 offset-m2 l8 offset-l2" action="{{ url_for('entryPerson') }}" method="post">
						<h5 class="center">信息录入</h5>
						<div class="row">
							<div class="progress col s6 offset-s3">
								<div class="indeterminate"></div>
							</div>
						</div>
						<div class="input-field col s12">
							<input name="name" id="name" type="text" class="validate" required>
							<label for="name">姓名<span class="red-text"> *</span></label>
						</div>
						<div class="col s12">
							<p>性别<span class="red-text"> *</span>&nbsp;&nbsp;
							  <input name="gender" type="radio" id="m" class="with-gap" value="男" required>
							  <label for="m">男</label>
							  <input name="gender" type="radio" id="f" class="with-gap" value="女">
							  <label for="f">女</label>
							</p>
						</div>
						<div class="input-field col s12">
							<input name="qq" type="text" class="validate">
							<label for="qq">QQ</label>
						</div>
						<div class="input-field col s12">
							<input name="tel" type="text" class="validate">
							<label for="tel">电话</label>
						</div>
						<div class="input-field col s12">
							<input name="wchat" type="text" class="validate">
							<label for="wchat">微信</label>
						</div>
						<div class="input-field col s12">
							<input name="emg" type="text" class="validate">
							<label for="emg">应急联系方式</label>
						</div>
						<div class="progress col s6 offset-s3">
							<div class="determinate" style="width:54%"></div>
						</div>
						<div class="input-field col s12">
							<input name="school" type="text" class="validate">
							<label for="school">院系</label>
						</div>
						<div class="input-field col s12">
							<input name="class" type="text" class="validate">
							<label for="class">班级</label>
						</div>
						<div class="input-field col s12">
							<input name="apart" type="text" class="validate">
							<label for="apart">寝室（公寓-楼栋号-房间号）</label>
						</div>
						<div class="progress col s6 offset-s3">
							<div class="determinate" style="width:86%"></div>
						</div>
						<div class="col s12">
							<select name="depart">
						      <option value="" disabled selected>部门</option>
						      <option value="财务部" id="fun">财务部</option>
						      <option value="秘书部" id="sec">秘书部</option>
						      <option value="人力资源部" id="hr">人力资源部</option>
							  <option value="社团部" id="clb">社团部</option>
							  <option value="行政监察部" id="sup">行政监察部</option>
							  <option value="外联部" id="out">外联部</option>
							  <option value="公共关系部" id="pr">公共关系部</option>
							  <option value="宣传部" id="pub">宣传部</option>
							  <option value="媒体部" id="med">媒体部</option>
							  <option value="思存工作室" id="sicun">思存工作室</option>
							  <option value="新媒体工作室" id="nmed">新媒体工作室</option>
							  <option value="社团外联企划小组" id="cop">社团外联企划小组</option>
							  <option value="文艺拓展部" id="ext">文艺拓展部</option>
							  <option value="其它" id="o">其它</option>
						    </select>
						</div>
						<div class="input-field col s12 m6">
							<input name="group" type="text" class="validate">
							<label for="group">组别</label>
						</div>
						<div class="input-field col s12 m6">
							<input name="occup" type="text" class="validate">
							<label for="occup">担任职务</label>
						</div>
						<div class="progress col s6 offset-s3">
							<div class="determinate" style="width:98%"></div>
						</div>
						<div class="input-field col s12">
							<input name="id" type="text" class="validate" value="AU" required>
							<label for="id">社联编号<span class="red-text"> *</span></label>
						</div>
						<div class="col s12">
							<label for="dateofjoin">加入社联的时间</label>
							<input name="dateofjoin" type="date" class="datepicker">
						</div>
						<div class="progress col s6 offset-s3">
							<div class="determinate green darken-1" style="width:100%"></div>
						</div>
					</div>
					<div class="row valign-wrapper">
						<div class="col s12 m8 offset-m2 l8 offset-l2">
							<div class="col s9 red-text left valign">
								{% for msg in get_flashed_messages() %}
								{{ msg }}
								{% endfor %}
							</div>
							<button class="btn col s3 waves-effect waves-light right" type="submit">
								提交<i class="material-icons right">send</i>
							</button>
						</div>
					</div>
				</form>
			</div>
		</div>


<!-- TODO: input validation: name cannot contain spaces or HTML-reserveds, id cannot be re'^AU$' -->
<!-- TODO: merge entry & update pages using AJAX -->


		<script>
        /**
         * Materialize Controller code
         * */
			$(document).ready(function() {
				/* used in department selection */
			   $('select').material_select();
			   /* used in join-date */
			   $('.datepicker').pickadate({
				   selectMonths: true, // Creates a dropdown to control month
				   selectYears: 15 // Creates a dropdown of 15 years to control year
			   });
			   /* pre-filling */
			   Materialize.updateTextFields();
			});
		</script>

{% endblock %}
